<!DOCTYPE html>
<!--http://www.kiec.kh.edu.tw/typing/keyboard/%E6%96%B0%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%E9%8D%B5%E7%9B%A4%E6%B8%AC%E9%A9%97%E6%A8%A1%E7%B5%84%E4%B8%8D%E5%88%86%E5%A4%A7%E5%B0%8F%E5%AF%ABV2_1.swf-->
<html>
    <meta charset="utf-8">
    <head>
        <script src="jquery.min.js"></script>
    </head>
    <style>
			
			#circle {
				position: relative;
				margin: auto;
				top: 15vh;
				width: 20vh;
				height: 20vh;
				line-height: 20vh;
				border-style: solid;
				border-color: darkblue;
				border-width: 3vh;
				border-radius: 50%;
				font-size: 12vh;
				font-weight: 800;
				color: yellow;
				text-align: center;
				background: red;
			}
						
			
			.half_space {
				width: 2.5vw;
				height: 5vw;
			}
			
			.keyboard_area {
				position: relative;
				top: 18vh;
				height: 40vh;
				width: 60vw;
				margin: auto;
			}
			
			.row {
				display: flex;
			}
				
			.next_row {
			}
			
			#timer {
				height: 8vmin;
				width: 50vw;
				font-size: 10vmin;
				position: absolute;
				top: 10px;
				left: 5vw;
			}
			
			#time {
			}
			
			#scorer {
				height: 15vh;
				width: 30vw;
				font-size: 10vmin;
				position: absolute;
				top: 10px;
				right: 2vw;
			}
			
			#score {
			}
			
			.container {
				position: relative;
				width: 5vw;
				height: 5vw;
			}
			
			.key {
				width: 5vw;
				height: 5vw;
			}
			
			.centered {
				position: absolute;
				color: blue;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				font-size: 200%;
				font-weight: bold;
			}
    </style>
    
    <body>
				<div id = "timer">剩餘時間: <span id = "time">200</span> 秒</div>
				<div id = "scorer">目前得 <span id = "score"> 0 </span> 分</div>
				<div id = "circle"></div>
				<div class = "keyboard_area">
					<div class = row>
						<div class = "container"><img src = "white.PNG", id = "1", class = "key"><div class = "centered", name = "1"></div></div>
						<div class = "container"><img src = "green.PNG", id = "2", class = "key"><div class = "centered", name = "2"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "3", class = "key"><div class = "centered", name = "3"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "4", class = "key"><div class = "centered", name = "4"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "5", class = "key"><div class = "centered", name = "5"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "6", class = "key"><div class = "centered", name = "6"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "7", class = "key"><div class = "centered", name = "7"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "8", class = "key"><div class = "centered", name = "8"></div></div>
						<div class = "container"><img src = "green.PNG", id = "9", class = "key"><div class = "centered", name = "9"></div></div>
						<div class = "container"><img src = "white.PNG", id = "0", class = "key"><div class = "centered", name = "0"></div></div>
						<div class = "container"><img src = "white.PNG", id = "-", class = "key"><div class = "centered", name = "-"></div></div>
						<div class = "container"><img src = "white.PNG", id = "=", class = "key"><div class = "centered", name = "="></div></div>

        	</div>
					<div class = "next_row"></div>

					<div class = row>
						<div class = "half_space"></div>
						<div class = "container"><img src = "white.PNG", id = "Q", class = "key"><div class = "centered", name = "Q"></div></div>
						<div class = "container"><img src = "green.PNG", id = "W", class = "key"><div class = "centered", name = "W"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "E", class = "key"><div class = "centered", name = "E"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "R", class = "key"><div class = "centered", name = "R"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "T", class = "key"><div class = "centered", name = "T"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "Y", class = "key"><div class = "centered", name = "Y"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "U", class = "key"><div class = "centered", name = "U"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "I", class = "key"><div class = "centered", name = "I"></div></div>
						<div class = "container"><img src = "green.PNG", id = "O", class = "key"><div class = "centered", name = "O"></div></div>
						<div class = "container"><img src = "white.PNG", id = "P", class = "key"><div class = "centered", name = "P"></div></div>
						<div class = "container"><img src = "white.PNG", id = "[", class = "key"><div class = "centered", name = "["></div></div>
        	</div>
					<div class = "next_row"></div>
					<div class = "row">
						<div class = "half_space"></div>
						<div class = "half_space"></div>
						<div class = "container"><img src = "white.PNG", id = "A", class = "key"><div class = "centered", name = "A"></div></div>
						<div class = "container"><img src = "green.PNG", id = "S", class = "key"><div class = "centered", name = "S"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "D", class = "key"><div class = "centered", name = "D"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "F", class = "key"><div class = "centered", name = "F"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "G", class = "key"><div class = "centered", name = "G"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "H", class = "key"><div class = "centered", name = "H"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "J", class = "key"><div class = "centered", name = "J"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "K", class = "key"><div class = "centered", name = "K"></div></div>
						<div class = "container"><img src = "green.PNG", id = "L", class = "key"><div class = "centered", name = "L"></div></div>
						<div class = "container"><img src = "white.PNG", id = ";", class = "key"><div class = "centered", name = ";"></div></div>
						<div class = "container"><img src = "white.PNG", id = "'", class = "key"><div class = "centered", name = "'"></div></div>

					</div>
					<div class = "next_row"></div>
					<div class = "row">
						<div class = "half_space"></div>
						<div class = "half_space"></div>
						<div class = "half_space"></div>
						<div class = "container"><img src = "white.PNG", id = "Z", class = "key"><div class = "centered", name = "Z"></div></div>
						<div class = "container"><img src = "green.PNG", id = "X", class = "key"><div class = "centered", name = "X"></div></div>
						<div class = "container"><img src = "purple.PNG", id = "C", class = "key"><div class = "centered", name = "C"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "V", class = "key"><div class = "centered", name = "V"></div></div>
						<div class = "container"><img src = "yellow.PNG", id = "B", class = "key"><div class = "centered", name = "B"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "N", class = "key"><div class = "centered", name = "N"></div></div>
						<div class = "container"><img src = "orange.PNG", id = "M", class = "key"><div class = "centered", name = "M"></div></div>
						<div class = "container"><img src = "purple.PNG", id = ",", class = "key"><div class = "centered", name = ","></div></div>
						<div class = "container"><img src = "green.PNG", id = ".", class = "key"><div class = "centered", name = "."></div></div>
						<div class = "container"><img src = "white.PNG", id = "/", class = "key"><div class = "centered", name = "/"></div></div>
					</div>

    </body>
    
    <script>
			
        $(document).ready(function(){
					
					var chr = '';
					var wrong = 0;
					var isdown = false;
					const chr_string = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
					const char_len = chr_string.length;
					
					function generate_key() {
						chr = chr_string.charAt(Math.floor(Math.random() * char_len));
						document.getElementsByName(chr)[0].innerHTML = chr;
						document.getElementById("circle").innerHTML = chr;
					};
					
					$(document).keypress(function(e) {
						if (isdown == false) {
							console.log(e.key);
							if (e.key.toUpperCase() == chr) {
								document.getElementsByName(chr)[0].innerHTML = "";
								document.getElementById("score").innerHTML = parseInt(document.getElementById("score").innerHTML) + 100;
								generate_key();
							} else {
								wrong += 1;
								if (wrong == 5) {
									console.log("不可以亂打!");
									wrong = 0;
								} else {
									console.log("打錯啦!");
									document.getElementById("score").innerHTML = parseInt(document.getElementById("score").innerHTML) - 50;	
								}
							};
							
						isdown = true;
						}
					});
					
					$(document).keydown(function(e) {
						$("#" + e.key.toUpperCase()).css({
							"-webkit-transform": "rotate(1800deg)",
							"-moz-transform": "rotate(1800deg)",
							"transform": "rotate(180deg)" /* For modern browsers(CSS3)  */
						})
					});
					
					$(document).keyup(function(e) {
						isdown = false;
						$("#" + e.key.toUpperCase()).css({
							"-webkit-transform": "rotate(0deg)",
							"-moz-transform": "rotate(0deg)",
							"transform": "rotate(0deg)" /* For modern browsers(CSS3)  */
						})
					});
					
					generate_key();
					
					
					function startTimer(duration, display) {
							var timer = duration;
							setInterval(function () {
									display.textContent = timer;
									if (--timer < 0) {
											sessionStorage.setItem("score", document.getElementById("score").innerHTML);
											window.location.href = 'index3.html';
									}
							}, 1000);
					};
					
					display = document.querySelector('#time');
    			startTimer(200, display);

					

        });
    </script>


</html>